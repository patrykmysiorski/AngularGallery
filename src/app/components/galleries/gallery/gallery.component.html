<div class="gallery-container flex-col-container flex-justify-space-between">
  <!--  HEADER SECTION-->
  <div class="header flex-row-container">
    <button class="btn btn-primary back-button" (click)="backToGalleries()">back to galleries</button>
    <h2>{{gallery.title}}, {{gallery.dateCreated | date: 'longDate'}}</h2>
  </div>
  <h3>{{gallery.description}}</h3>
  <!--  TAGS-->
  <app-tags-container
    [gallery]="gallery"
    (removeTag)="removeTag($event)"
    (addTag)="addTag($event)"
  >
  </app-tags-container>
  <!--  PHOTOS-->
  <div class="photo-section-container flex-row-container flex-justify-space-between">
    <!--    MAIN PHOTO-->
    <div class="main-photo flex-row-container">
      <div class="flex-col-container flex-justify-space-between">
        <img src="{{gallery.thumbUrl}}" alt="image not found" *ngIf="!showEditGalleryForm">
        <button class="btn btn-primary edit-gallery-button" *ngIf="!showEditGalleryForm" (click)="toggleEditGallery()">
          edit gallery
        </button>
        <app-gallery-form *ngIf="showEditGalleryForm"
                          [gallery]="gallery" (saveGallery)="onGallerySave($event)"
                          (closeForm)="toggleEditGallery()"
                          [header]="'Edit gallery'"
        >
        </app-gallery-form>
      </div>
    </div>
    <!--    OTHER PHOTO-->
    <div class="flex-col-container flex-align-end">
      <app-gallery-photo-form
        (addPhoto)="addPhoto($event)"
        (closeForm)="togglePhotoForm()"
        *ngIf="showPhotoForm"
      ></app-gallery-photo-form>
      <div class="other-photos-container flex-row-container flex-wrap" *ngIf="!showPhotoForm">
        <div class="other-photo" *ngFor="let photo of gallery.photos | slice:start:end;">
          <img src="{{photo.thumbUrl}}" width="280">
          <i class="fa fa-remove delete-button" (click)="deletePhoto(photo.photoId)"></i>
        </div>
      </div>
      <div class="footer flex-row-container flex-justify-space-between">
        <button class="btn btn-primary" (click)="togglePhotoForm()" *ngIf="!showPhotoForm">add photo</button>
        <app-paging
          [withoutText]="withoutText"
          [itemsList]="gallery.photos"
          [currentPage]="currentPage"
          [numberOfPages]="numberOfPages"
          (moveBack)="moveBack()"
          (moveForward)="moveForward()"
          (setCurrentPage)="setCurrentPage($event)"
        ></app-paging>
      </div>
    </div>
  </div>
  <!--    COMMENTS-->
  <div class="photo-section-container flex-row-container flex-justify-space-between margin-bottom">
    <div class="comment-form">
      <app-comment-form
        [galleryId]="gallery.galleryId"
        (addComment)="updateComments($event)"
        *ngIf="showCommentForm"
      >
      </app-comment-form>
    </div>
    <div class="comments-container">
      <app-comments-container
        *ngIf="gallery"
        [comments]="comments"
        (deleteComment)="deleteComment($event)"
      >
      </app-comments-container>
    </div>
  </div>
</div>
